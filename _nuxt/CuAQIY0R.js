import{l as K,U as X,W as Z,aw as j,o as r,h as b,w as f,a as z,u as e,e as y,E as O,aE as ee,aF as ae,S as E,k as N,Y as te,D as Q,G as se,f as W,aM as le,ac as oe,ap as ne,aN as ie,d as o,z as h,I as c,F,c as x,Q as re,b as L,B as R,K as D,A as M,p as de,L as ue,$ as ce,J as pe,C as fe,aO as I,aD as me,y as V,aP as he,aQ as ve,aa as be}from"./DBTqNwrK.js";import{V as ge,u as ke,_ as ye}from"./DKqjRrIg.js";import{L as we,u as _e,_ as qe,a as Ve,b as xe}from"./DvzC1o63.js";import"./YUxjmewY.js";const[Ce,Se]=te("SwitchRoot");var ze=K({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(s,{emit:d}){const a=s,p=d,{disabled:u}=X(a),n=Z(a,"modelValue",p,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function v(){u.value||(n.value=!n.value)}const{forwardRef:w,currentElement:_}=j(),$=ke(_),B=N(()=>a.id&&_.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Se({modelValue:n,toggleCheck:v,disabled:u}),(i,C)=>(r(),b(e(E),O(i.$attrs,{id:i.id,ref:e(w),role:"switch",type:i.as==="button"?"button":void 0,value:i.value,"aria-label":i.$attrs["aria-label"]||B.value,"aria-checked":e(n),"aria-required":i.required,"data-state":e(n)?"checked":"unchecked","data-disabled":e(u)?"":void 0,"as-child":i.asChild,as:i.as,disabled:e(u),onClick:v,onKeydown:ee(ae(v,["prevent"]),["enter"])}),{default:f(()=>[z(i.$slots,"default",{modelValue:e(n)}),e($)&&i.name?(r(),b(e(ge),{key:0,type:"checkbox",name:i.name,disabled:e(u),required:i.required,value:i.value,checked:!!e(n)},null,8,["name","disabled","required","value","checked"])):y("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),$e=ze,Be=K({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(s){const d=Ce();return j(),(a,p)=>(r(),b(e(E),{"data-state":e(d).modelValue?.value?"checked":"unchecked","data-disabled":e(d).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:f(()=>[z(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),Ue=Be;const Ie={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{root:"opacity-75",base:"cursor-not-allowed",label:"cursor-not-allowed",description:"cursor-not-allowed"}}},defaultVariants:{color:"primary",size:"md"}},Le=Object.assign({inheritAttrs:!1},{__name:"USwitch",props:D({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},checkedIcon:{type:null,required:!1},uncheckedIcon:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:D(["change"],["update:modelValue"]),setup(s,{emit:d}){const a=s,p=Q(),u=d,n=se(s,"modelValue",{type:Boolean,default:void 0}),v=W(),w=le(oe(a,"required","value","defaultValue")),{id:_,emitFormChange:$,emitFormInput:B,size:i,color:C,name:A,disabled:m,ariaAttrs:t}=ne(a),U=_.value??ie(),l=N(()=>M({extend:M(Ie),...v.ui?.switch||{}})({size:i.value,color:C.value,required:a.required,loading:a.loading,disabled:m.value||a.loading}));function q(g){const S=new Event("change",{target:{value:g}});u("change",S),$(),B()}return(g,S)=>(r(),b(e(E),{as:s.as,"data-slot":"root",class:h(l.value.root({class:[a.ui?.root,a.class]}))},{default:f(()=>[o("div",{"data-slot":"container",class:h(l.value.container({class:a.ui?.container}))},[c(e($e),O({id:e(U)},{...e(w),...g.$attrs,...e(t)},{modelValue:n.value,"onUpdate:modelValue":[S[0]||(S[0]=G=>n.value=G),q],name:e(A),disabled:e(m)||s.loading,"data-slot":"base",class:l.value.base({class:a.ui?.base})}),{default:f(()=>[c(e(Ue),{"data-slot":"thumb",class:h(l.value.thumb({class:a.ui?.thumb}))},{default:f(()=>[s.loading?(r(),b(F,{key:0,name:s.loadingIcon||e(v).ui.icons.loading,"data-slot":"icon",class:h(l.value.icon({class:a.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(r(),x(re,{key:1},[s.checkedIcon?(r(),b(F,{key:0,name:s.checkedIcon,"data-slot":"icon",class:h(l.value.icon({class:a.ui?.icon,checked:!0}))},null,8,["name","class"])):y("",!0),s.uncheckedIcon?(r(),b(F,{key:1,name:s.uncheckedIcon,"data-slot":"icon",class:h(l.value.icon({class:a.ui?.icon,unchecked:!0}))},null,8,["name","class"])):y("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),s.label||p.label||s.description||p.description?(r(),x("div",{key:0,"data-slot":"wrapper",class:h(l.value.wrapper({class:a.ui?.wrapper}))},[s.label||p.label?(r(),b(e(we),{key:0,for:e(U),"data-slot":"label",class:h(l.value.label({class:a.ui?.label}))},{default:f(()=>[z(g.$slots,"label",{label:s.label},()=>[L(R(s.label),1)])]),_:3},8,["for","class"])):y("",!0),s.description||p.description?(r(),x("p",{key:1,"data-slot":"description",class:h(l.value.description({class:a.ui?.description}))},[z(g.$slots,"description",{description:s.description},()=>[L(R(s.description),1)])],2)):y("",!0)],2)):y("",!0)]),_:3},8,["as","class"]))}}),Fe={slots:{root:"rounded-lg overflow-hidden",header:"p-4 sm:px-6",body:"p-4 sm:p-6",footer:"p-4 sm:px-6"},variants:{variant:{solid:{root:"bg-inverted text-inverted"},outline:{root:"bg-default ring ring-default divide-y divide-default"},soft:{root:"bg-elevated/50 divide-y divide-default"},subtle:{root:"bg-elevated/50 ring ring-default divide-y divide-default"}}},defaultVariants:{variant:"outline"}},Re={__name:"UCard",props:{as:{type:null,required:!1},variant:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(s){const d=s,a=Q(),p=W(),u=N(()=>M({extend:M(Fe),...p.ui?.card||{}})({variant:d.variant}));return(n,v)=>(r(),b(e(E),{as:s.as,"data-slot":"root",class:h(u.value.root({class:[d.ui?.root,d.class]}))},{default:f(()=>[a.header?(r(),x("div",{key:0,"data-slot":"header",class:h(u.value.header({class:d.ui?.header}))},[z(n.$slots,"header")],2)):y("",!0),a.default?(r(),x("div",{key:1,"data-slot":"body",class:h(u.value.body({class:d.ui?.body}))},[z(n.$slots,"default")],2)):y("",!0),a.footer?(r(),x("div",{key:2,"data-slot":"footer",class:h(u.value.footer({class:d.ui?.footer}))},[z(n.$slots,"footer")],2)):y("",!0)]),_:3},8,["as","class"]))}},Me={class:"graph-page"},Ee={class:"graph-toolbar"},Ne={class:"toolbar-left"},Ae={class:"toolbar-center"},Ge={class:"toolbar-right"},Ke={key:0,class:"graph-loading"},Pe={class:"graph-loading"},Te={class:"graph-controls"},De={class:"controls-grid"},je={class:"control-item"},Oe={class:"control-item"},Qe={class:"control-item col-span-2"},We={class:"control-item col-span-2"},He=K({__name:"graph",setup(s){de({title:"Knowledge Graph",description:"Interactive visualization of all notes and their connections"});const{graph:d,isLoading:a}=_e(),p=V(""),u=V(!0),n=V(!1),v=V(4),w=V(1),_=V(),$=V(800),B=V(600);function i(){if(_.value){const m=_.value.getBoundingClientRect();$.value=Math.floor(m.width),B.value=Math.floor(m.height)}}ue(()=>{i(),window.addEventListener("resize",i)}),ce(()=>{window.removeEventListener("resize",i)});const C=N(()=>{if(!d.value)return{nodes:[],links:[]};let m=d.value.nodes;if(p.value){const l=p.value.toLowerCase();m=m.filter(q=>q.title?.toLowerCase().includes(l)||q.tags?.some(g=>g.toLowerCase().includes(l))||q.folder?.toLowerCase().includes(l)||q.path?.toLowerCase().includes(l))}const t=new Set(m.map(l=>l.id)),U=(d.value.edges||[]).filter(l=>t.has(l.source)&&t.has(l.target));return{nodes:m,links:U}});function A(m){he(m.path)}return(m,t)=>{const U=pe,l=fe,q=ye,g=me,S=F,G=qe,H=ve,P=Le,J=Ve,T=xe,Y=Re;return r(),x("div",Me,[o("div",Ee,[c(g,{class:"toolbar-container"},{default:f(()=>[o("div",Ne,[c(U,{to:"/",color:"neutral",variant:"ghost","leading-icon":"i-lucide-arrow-left"},{default:f(()=>[...t[5]||(t[5]=[L(" Back ",-1)])]),_:1})]),o("div",Ae,[t[6]||(t[6]=o("h1",{class:"toolbar-title"},"Knowledge Graph",-1)),c(l,{color:"neutral",variant:"subtle"},{default:f(()=>[L(R(e(C).nodes.length)+" nodes ",1)]),_:1}),c(l,{color:"neutral",variant:"subtle"},{default:f(()=>[L(R(e(C).links.length)+" links ",1)]),_:1})]),o("div",Ge,[c(q,{modelValue:e(p),"onUpdate:modelValue":t[0]||(t[0]=k=>I(p)?p.value=k:null),icon:"i-lucide-search",placeholder:"Filter...",class:"toolbar-search"},null,8,["modelValue"])])]),_:1})]),o("div",{ref_key:"containerRef",ref:_,class:"graph-viewport"},[e(a)?(r(),x("div",Ke,[c(S,{name:"i-lucide-loader-2",class:"animate-spin"}),t[7]||(t[7]=o("span",null,"Loading graph...",-1))])):(r(),b(H,{key:1},{fallback:f(()=>[o("div",Pe,[c(S,{name:"i-lucide-loader-2",class:"animate-spin"}),t[8]||(t[8]=o("span",null,"Initializing...",-1))])]),default:f(()=>[c(G,{nodes:e(C).nodes,links:e(C).links,width:e($),height:e(B),"node-size":e(v),"link-width":e(w),"show-labels":e(u),"show-arrows":e(n),"auto-zoom":!0,"warmup-ticks":80,"cooldown-time":3e3,"background-color":"transparent",onNodeClick:A},null,8,["nodes","links","width","height","node-size","link-width","show-labels","show-arrows"])]),_:1})),o("div",Te,[c(Y,{ui:{body:"p-3"}},{default:f(()=>[o("div",De,[o("div",je,[t[9]||(t[9]=o("span",{class:"control-label"},"Labels",-1)),c(P,{modelValue:e(u),"onUpdate:modelValue":t[1]||(t[1]=k=>I(u)?u.value=k:null)},null,8,["modelValue"])]),o("div",Oe,[t[10]||(t[10]=o("span",{class:"control-label"},"Arrows",-1)),c(P,{modelValue:e(n),"onUpdate:modelValue":t[2]||(t[2]=k=>I(n)?n.value=k:null)},null,8,["modelValue"])]),c(J,{class:"col-span-2"}),o("div",Qe,[t[11]||(t[11]=o("span",{class:"control-label"},"Node size",-1)),c(T,{modelValue:e(v),"onUpdate:modelValue":t[3]||(t[3]=k=>I(v)?v.value=k:null),min:2,max:10,step:1,class:"flex-1"},null,8,["modelValue"])]),o("div",We,[t[12]||(t[12]=o("span",{class:"control-label"},"Link width",-1)),c(T,{modelValue:e(w),"onUpdate:modelValue":t[4]||(t[4]=k=>I(w)?w.value=k:null),min:.5,max:3,step:.5,class:"flex-1"},null,8,["modelValue"])])])]),_:1})])],512)])}}}),ea=be(He,[["__scopeId","data-v-08c37784"]]);export{ea as default};

import{l as h,a7 as y,o as l,c,d as t,I as f,F as _,B as d,z as o,u as a,b as x,Q as k,e as w,k as u,a9 as I,j as N,y as z,aa as C}from"./DBTqNwrK.js";import"./YUxjmewY.js";const F={class:"prose-img-cartridge my-8 rounded-lg overflow-hidden shadow-sm",style:{border:"1px solid var(--ui-border)",background:"var(--ui-bg)"}},S={class:"cartridge-header flex items-center justify-between px-3 py-2",style:{"border-bottom":"1px solid var(--ui-border)",background:"var(--ui-bg-muted)"}},B={class:"flex items-center gap-2 overflow-hidden"},E=["title"],M=["src","alt","width","height"],R=h({__name:"ProseImg",props:{src:{type:String,default:""},alt:{type:String,default:""},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0}},setup(g){const e=g,p=u(()=>{if(e.src?.startsWith("/")&&!e.src.startsWith("//")){const s=I(e.src,N().app.baseURL);if(s!==e.src)return s}return e.src}),r=z(!0),v=y(),n=u(()=>v.value==="dark");function m(){r.value=!r.value}return(s,i)=>{const b=_;return l(),c("figure",F,[t("div",S,[t("div",B,[f(b,{name:"i-lucide-image",class:"w-4 h-4 text-gray-400"}),t("span",{class:"text-xs font-mono text-gray-500 uppercase truncate select-none",title:e.alt},d(e.alt||"IMAGE.IMG"),9,E)]),t("button",{onClick:m,class:o(["text-[10px] font-mono uppercase tracking-wider px-2 py-0.5 rounded border transition-all duration-200 select-none flex items-center gap-1.5",a(r)?"bg-violet-500/10 text-violet-600 dark:text-violet-400 border-violet-200 dark:border-violet-900 hover:bg-violet-500/20":"bg-gray-200 dark:bg-gray-800 text-gray-500 border-gray-300 dark:border-gray-700 hover:bg-gray-300 dark:hover:bg-gray-700"])},[t("div",{class:o(["w-1.5 h-1.5 rounded-full",a(r)?"bg-violet-500 animate-pulse":"bg-gray-400"])},null,2),x(" "+d(a(r)?"FILTER: ON":"FILTER: OFF"),1)],2)]),t("div",{class:o(["relative group content-center",{"noir-active":a(r)}])},[t("img",{src:a(p),alt:e.alt,width:e.width,height:e.height,class:o(["block w-full h-auto transition-all duration-500 ease-in-out",{"noir-filter":a(r)}]),loading:"lazy"},null,10,M),a(r)?(l(),c(k,{key:0},[t("div",{class:o(["scanlines absolute inset-0 z-10 opacity-80 pointer-events-none",{"scanlines-dark":a(n)}])},null,2),t("div",{class:o(["accent-tint absolute inset-0 z-20 opacity-40 dark:opacity-60 pointer-events-none",{"accent-tint-dark":a(n)}])},null,2),i[0]||(i[0]=t("div",{class:"vignette absolute inset-0 z-30 opacity-0 group-hover:opacity-60 transition-opacity duration-300 pointer-events-none"},null,-1))],64)):w("",!0)],2)])}}}),L=Object.assign(C(R,[["__scopeId","data-v-65a91583"]]),{__name:"ProseImg"});export{L as default};

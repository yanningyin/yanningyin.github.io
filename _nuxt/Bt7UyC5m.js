import{i as $t,l as ae,U as qt,X as Le,V as Pt,W as gt,N as xe,a0 as ve,o as I,h as D,w as O,a as V,u as p,e as U,S as oe,an as vt,y as J,aG as Me,Y as Ne,r as yt,I as Y,aE as fe,aF as je,aR as Ht,L as Vt,$ as Nt,k as K,Z as bt,E as j,aw as xt,aS as jt,aH as Wt,aT as Qe,aU as Gt,aV as Ut,D as We,aW as Yt,g as Xt,c as N,Q as he,P as be,R as Qt,a8 as Jt,aX as Zt,ak as ie,ai as ee,G as At,H as Ct,f as Et,ab as ei,ac as Be,aI as ti,aY as ii,as as St,_ as si,aZ as ni,a_ as De,a$ as ai,F as ye,z as $,aj as li,b0 as ri,d as Je,B as ce,b as ke,T as oi,b1 as It,J as Ze,K as Oe,A as Ee,b2 as ui,a1 as Ke,b3 as ci,b4 as di,b5 as hi,b6 as fi,b7 as pi,a7 as mi,aM as et,b8 as tt,b9 as it,ag as gi,aO as vi,ba as yi}from"./DBTqNwrK.js";import{f as Ce}from"./D5wHG_Tt.js";import{V as bi,u as xi,_ as Ai}from"./DKqjRrIg.js";import{u as Ci,g as Ei}from"./BQ3vHfZG.js";import{g as Si,M as Ii}from"./DWYlflse.js";import"./YUxjmewY.js";function Li(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}function st(i){return i?.querySelector("[data-state=checked]")}function Fi(i,t,e){return i===void 0?!1:Array.isArray(i)?i.some(s=>ne(s,t,e)):ne(i,t,e)}function ne(i,t,e){return i===void 0||t===void 0?!1:typeof i=="string"?i===t:typeof e=="function"?e(i,t):typeof e=="string"?i?.[e]===t?.[e]:$t(i,t)}const[Fe,wi]=Ne("ListboxRoot");var Mi=ae({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(i,{expose:t,emit:e}){const s=i,n=e,{multiple:a,highlightOnHover:l,orientation:o,disabled:u,selectionBehavior:h,dir:d}=qt(s),{getItems:g}=Le({isProvider:!0}),{handleTypeaheadSearch:r}=Ci(),{primitiveElement:m,currentElement:f}=vt(),v=Li(),b=Pt(d),E=xi(f),L=J(),T=J(!1),_=J(!0),w=gt(s,"modelValue",n,{defaultValue:s.defaultValue??(a.value?[]:void 0),passive:s.modelValue===void 0,deep:!0});function k(y){if(T.value=!0,s.multiple){const F=Array.isArray(w.value)?[...w.value]:[],M=F.findIndex(P=>ne(P,y,s.by));s.selectionBehavior==="toggle"?(M===-1?F.push(y):F.splice(M,1),w.value=F):(w.value=[y],L.value=y)}else s.selectionBehavior==="toggle"&&ne(w.value,y,s.by)?w.value=void 0:w.value=y;setTimeout(()=>{T.value=!1},1)}const S=J(null),H=J(null),R=J(!1),Q=J(!1),Z=Me(),C=Me(),q=Me();function c(){return g().map(y=>y.ref).filter(y=>y.dataset.disabled!=="")}function z(y,F=!0){if(!y)return;S.value=y,_.value&&S.value.focus(),F&&S.value.scrollIntoView({block:"nearest"});const M=g().find(P=>P.ref===y);n("highlight",M)}function x(y){if(R.value)q.trigger(y);else{const F=g().find(M=>ne(M.value,y,s.by));F&&(S.value=F.ref,z(F.ref))}}function B(y){S.value&&S.value.isConnected&&(y.preventDefault(),y.stopPropagation(),Q.value||S.value.click())}function G(y){if(_.value){if(T.value=!0,R.value)C.trigger(y);else{const F=y.altKey||y.ctrlKey||y.metaKey;if(F&&y.key==="a"&&a.value){const M=g(),P=M.map(ue=>ue.value);w.value=[...P],y.preventDefault(),z(M[M.length-1].ref)}else if(!F){const M=r(y.key,g());M&&z(M)}}setTimeout(()=>{T.value=!1},1)}}function W(){Q.value=!0}function me(){ve(()=>{Q.value=!1})}function Ue(){ve(()=>{const y=new KeyboardEvent("keydown",{key:"PageUp"});Ye(y)})}function we(y){const F=S.value;F?.isConnected&&(H.value=F),S.value=null,n("leave",y)}function Ot(y){const F=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(y.currentTarget?.dispatchEvent(F),n("entryFocus",F),!F.defaultPrevented)if(H.value)z(H.value);else{const M=c()?.[0];z(M)}}function Ye(y){const F=Si(y,o.value,b.value);if(!F)return;let M=c();if(S.value){if(F==="last")M.reverse();else if(F==="prev"||F==="next"){F==="prev"&&M.reverse();const P=M.indexOf(S.value);M=M.slice(P+1)}Kt(y,M[0])}if(M.length){const P=!S.value&&F==="prev"?M.length-1:0;z(M[P])}if(R.value)return C.trigger(y)}function Kt(y,F){if(!(R.value||s.selectionBehavior!=="replace"||!a.value||!Array.isArray(w.value)||(y.altKey||y.ctrlKey||y.metaKey)&&!y.shiftKey)&&y.shiftKey){const P=g().filter(ge=>ge.ref.dataset.disabled!=="");let ue=P.find(ge=>ge.ref===F)?.value;if(y.key===v.END?ue=P[P.length-1].value:y.key===v.HOME&&(ue=P[0].value),!ue||!L.value)return;const Rt=Ce(P.map(ge=>ge.value),L.value,ue);w.value=Rt}}async function Xe(y){if(await ve(),R.value)Z.trigger(y);else{const F=c(),M=F.find(P=>P.dataset.state==="checked");M?z(M):F.length&&z(F[0])}}return xe(w,()=>{T.value||ve(()=>{Xe()})},{immediate:!0,deep:!0}),t({highlightedElement:S,highlightItem:x,highlightFirstItem:Ue,highlightSelected:Xe,getItems:g}),wi({modelValue:w,onValueChange:k,multiple:a,orientation:o,dir:b,disabled:u,highlightOnHover:l,highlightedElement:S,isVirtual:R,virtualFocusHook:Z,virtualKeydownHook:C,virtualHighlightHook:q,by:s.by,firstValue:L,selectionBehavior:h,focusable:_,onLeave:we,onEnter:Ot,changeHighlight:z,onKeydownEnter:B,onKeydownNavigation:Ye,onKeydownTypeAhead:G,onCompositionStart:W,onCompositionEnd:me,highlightFirstItem:Ue}),(y,F)=>(I(),D(p(oe),{ref_key:"primitiveElement",ref:m,as:y.as,"as-child":y.asChild,dir:p(b),"data-disabled":p(u)?"":void 0,onPointerleave:we,onFocusout:F[0]||(F[0]=async M=>{const P=M.relatedTarget||M.target;await ve(),S.value&&p(f)&&!p(f).contains(P)&&we(M)})},{default:O(()=>[V(y.$slots,"default",{modelValue:p(w)}),p(E)&&y.name?(I(),D(p(bi),{key:0,name:y.name,value:p(w),disabled:p(u),required:y.required},null,8,["name","value","disabled","required"])):U("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),ki=Mi,_i=ae({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const{CollectionSlot:t}=Le(),e=Fe(),s=yt(!1,10);return(n,a)=>(I(),D(p(t),null,{default:O(()=>[Y(p(oe),{role:"listbox",as:n.as,"as-child":n.asChild,tabindex:p(e).focusable.value?p(e).highlightedElement.value?"-1":"0":"-1","aria-orientation":p(e).orientation.value,"aria-multiselectable":!!p(e).multiple.value,"data-orientation":p(e).orientation.value,onMousedown:a[0]||(a[0]=je(l=>s.value=!0,["left"])),onFocus:a[1]||(a[1]=l=>{p(s)||p(e).onEnter(l)}),onKeydown:[a[2]||(a[2]=fe(l=>{p(e).orientation.value==="vertical"&&(l.key==="ArrowLeft"||l.key==="ArrowRight")||p(e).orientation.value==="horizontal"&&(l.key==="ArrowUp"||l.key==="ArrowDown")||(l.preventDefault(),p(e).focusable.value&&p(e).onKeydownNavigation(l))},["down","up","left","right","home","end"])),fe(p(e).onKeydownEnter,["enter"]),p(e).onKeydownTypeAhead]},{default:O(()=>[V(n.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),zi=_i,Ti=ae({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(i,{emit:t}){const e=i,n=gt(e,"modelValue",t,{defaultValue:"",passive:e.modelValue===void 0}),a=Fe(),{primitiveElement:l,currentElement:o}=vt(),u=K(()=>e.disabled||a.disabled.value||!1),h=J();return Ht(()=>h.value=a.highlightedElement.value?.id),Vt(()=>{a.focusable.value=!1,setTimeout(()=>{e.autoFocus&&o.value?.focus()},1)}),Nt(()=>{a.focusable.value=!0}),(d,g)=>(I(),D(p(oe),{ref_key:"primitiveElement",ref:l,as:d.as,"as-child":d.asChild,value:p(n),disabled:u.value?"":void 0,"data-disabled":u.value?"":void 0,"aria-disabled":u.value??void 0,"aria-activedescendant":h.value,type:"text",onKeydown:[fe(je(p(a).onKeydownNavigation,["prevent"]),["down","up","home","end"]),fe(p(a).onKeydownEnter,["enter"])],onInput:g[0]||(g[0]=r=>{n.value=r.target.value,p(a).highlightFirstItem()}),onCompositionstart:p(a).onCompositionStart,onCompositionend:p(a).onCompositionEnd},{default:O(()=>[V(d.$slots,"default",{modelValue:p(n)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),Bi=Ti;const[Di,Oi]=Ne("ListboxGroup");var Ki=ae({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(i){const t=i,e=bt(void 0,"reka-listbox-group");return Oi({id:e}),(s,n)=>(I(),D(p(oe),j({role:"group"},t,{"aria-labelledby":p(e)}),{default:O(()=>[V(s.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Ri=Ki,$i=ae({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(i){const t=i,e=Di({id:""});return(s,n)=>(I(),D(p(oe),j(t,{id:p(e).id}),{default:O(()=>[V(s.$slots,"default")]),_:3},16,["id"]))}}),qi=$i;const Pi="listbox.select",[Hi,Vi]=Ne("ListboxItem");var Ni=ae({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(i,{emit:t}){const e=i,s=t,n=bt(void 0,"reka-listbox-item"),{CollectionItem:a}=Le(),{forwardRef:l,currentElement:o}=xt(),u=Fe(),h=K(()=>o.value===u.highlightedElement.value),d=K(()=>Fi(u.modelValue.value,e.value,u.by)),g=K(()=>u.disabled.value||e.disabled);async function r(f){s("select",f),!f?.defaultPrevented&&!g.value&&f&&(u.onValueChange(e.value),u.changeHighlight(o.value))}function m(f){const v={originalEvent:f,value:e.value};Wt(Pi,r,v)}return Vi({isSelected:d}),(f,v)=>(I(),D(p(a),{value:f.value},{default:O(()=>[jt([h.value,d.value],()=>Y(p(oe),j({id:p(n)},f.$attrs,{ref:p(l),role:"option",tabindex:p(u).focusable.value?h.value?"0":"-1":-1,"aria-selected":d.value,as:f.as,"as-child":f.asChild,disabled:g.value?"":void 0,"data-disabled":g.value?"":void 0,"data-highlighted":h.value?"":void 0,"data-state":d.value?"checked":"unchecked",onClick:m,onKeydown:fe(je(m,["prevent"]),["space"]),onPointermove:v[0]||(v[0]=()=>{p(u).highlightedElement.value!==p(o)&&p(u).highlightOnHover.value&&!p(u).focusable.value&&p(u).changeHighlight(p(o),!1)})}),{default:O(()=>[V(f.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),v,1)]),_:3},8,["value"]))}}),ji=Ni,Wi=ae({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(i){const t=i;xt();const e=Hi();return(s,n)=>p(e).isSelected.value?(I(),D(p(oe),j({key:0,"aria-hidden":"true"},t),{default:O(()=>[V(s.$slots,"default")]),_:3},16)):U("v-if",!0)}}),Gi=Wi;function de(i,t,e){let s=e.initialDeps??[],n,a=!0;function l(){var o,u,h;let d;e.key&&((o=e.debug)!=null&&o.call(e))&&(d=Date.now());const g=i();if(!(g.length!==s.length||g.some((f,v)=>s[v]!==f)))return n;s=g;let m;if(e.key&&((u=e.debug)!=null&&u.call(e))&&(m=Date.now()),n=t(...g),e.key&&((h=e.debug)!=null&&h.call(e))){const f=Math.round((Date.now()-d)*100)/100,v=Math.round((Date.now()-m)*100)/100,b=v/16,E=(L,T)=>{for(L=String(L);L.length<T;)L=" "+L;return L};console.info(`%câ± ${E(v,5)} /${E(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,e?.key)}return e?.onChange&&!(a&&e.skipInitialOnChange)&&e.onChange(n),a=!1,n}return l.updateDeps=o=>{s=o},l}function nt(i,t){if(i===void 0)throw new Error("Unexpected undefined");return i}const Ui=(i,t)=>Math.abs(i-t)<1.01,Yi=(i,t,e)=>{let s;return function(...n){i.clearTimeout(s),s=i.setTimeout(()=>t.apply(this,n),e)}},at=i=>{const{offsetWidth:t,offsetHeight:e}=i;return{width:t,height:e}},Xi=i=>i,Qi=i=>{const t=Math.max(i.startIndex-i.overscan,0),e=Math.min(i.endIndex+i.overscan,i.count-1),s=[];for(let n=t;n<=e;n++)s.push(n);return s},Ji=(i,t)=>{const e=i.scrollElement;if(!e)return;const s=i.targetWindow;if(!s)return;const n=l=>{const{width:o,height:u}=l;t({width:Math.round(o),height:Math.round(u)})};if(n(at(e)),!s.ResizeObserver)return()=>{};const a=new s.ResizeObserver(l=>{const o=()=>{const u=l[0];if(u?.borderBoxSize){const h=u.borderBoxSize[0];if(h){n({width:h.inlineSize,height:h.blockSize});return}}n(at(e))};i.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return a.observe(e,{box:"border-box"}),()=>{a.unobserve(e)}},lt={passive:!0},rt=typeof window>"u"?!0:"onscrollend"in window,Zi=(i,t)=>{const e=i.scrollElement;if(!e)return;const s=i.targetWindow;if(!s)return;let n=0;const a=i.options.useScrollendEvent&&rt?()=>{}:Yi(s,()=>{t(n,!1)},i.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:g,isRtl:r}=i.options;n=g?e.scrollLeft*(r&&-1||1):e.scrollTop,a(),t(n,d)},o=l(!0),u=l(!1);e.addEventListener("scroll",o,lt);const h=i.options.useScrollendEvent&&rt;return h&&e.addEventListener("scrollend",u,lt),()=>{e.removeEventListener("scroll",o),h&&e.removeEventListener("scrollend",u)}},es=(i,t,e)=>{if(t?.borderBoxSize){const s=t.borderBoxSize[0];if(s)return Math.round(s[e.options.horizontal?"inlineSize":"blockSize"])}return i[e.options.horizontal?"offsetWidth":"offsetHeight"]},ts=(i,{adjustments:t=0,behavior:e},s)=>{var n,a;const l=i+t;(a=(n=s.scrollElement)==null?void 0:n.scrollTo)==null||a.call(n,{[s.options.horizontal?"left":"top"]:l,behavior:e})};class is{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const s=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(n=>{n.forEach(a=>{const l=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var n;(n=s())==null||n.disconnect(),e=null},observe:n=>{var a;return(a=s())==null?void 0:a.observe(n,{box:"border-box"})},unobserve:n=>{var a;return(a=s())==null?void 0:a.unobserve(n)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([s,n])=>{typeof n>"u"&&delete e[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Xi,rangeExtractor:Qi,onChange:()=>{},measureElement:es,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var s,n;(n=(s=this.options).onChange)==null||n.call(s,this,e)},this.maybeNotify=de(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(n=>{this.observer.observe(n)}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(n,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<n?"forward":"backward":null,this.scrollOffset=n,this.isScrolling=a,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,s)=>{const n=new Map,a=new Map;for(let l=s-1;l>=0;l--){const o=e[l];if(n.has(o.lane))continue;const u=a.get(o.lane);if(u==null||o.end>u.end?a.set(o.lane,o):o.end<u.end&&n.set(o.lane,!0),n.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=de(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(e,s,n,a,l,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:s,scrollMargin:n,getItemKey:a,enabled:l,lanes:o}),{key:!1}),this.getMeasurements=de(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:s,scrollMargin:n,getItemKey:a,enabled:l,lanes:o},u)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>e)for(const r of this.laneAssignments.keys())r>=e&&this.laneAssignments.delete(r);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(r=>{this.itemSizeCache.set(r.key,r.size)}));const h=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===e&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,h),g=new Array(o).fill(void 0);for(let r=0;r<h;r++){const m=d[r];m&&(g[m.lane]=r)}for(let r=h;r<e;r++){const m=a(r),f=this.laneAssignments.get(r);let v,b;if(f!==void 0&&this.options.lanes>1){v=f;const _=g[v],w=_!==void 0?d[_]:void 0;b=w?w.end+this.options.gap:s+n}else{const _=this.options.lanes===1?d[r-1]:this.getFurthestMeasurement(d,r);b=_?_.end+this.options.gap:s+n,v=_?_.lane:r%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(r,v)}const E=u.get(m),L=typeof E=="number"?E:this.options.estimateSize(r),T=b+L;d[r]={index:r,start:b,size:L,end:T,key:m,lane:v},g[v]=r}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=de(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,s,n,a)=>this.range=e.length>0&&s>0?ss({measurements:e,outerSize:s,scrollOffset:n,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=de(()=>{let e=null,s=null;const n=this.calculateRange();return n&&(e=n.startIndex,s=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,s]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,s]},(e,s,n,a,l)=>a===null||l===null?[]:e({startIndex:a,endIndex:l,overscan:s,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const s=this.options.indexAttribute,n=e.getAttribute(s);return n?parseInt(n,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(e,s)=>{const n=this.indexFromElement(e),a=this.measurementsCache[n];if(!a)return;const l=a.key,o=this.elementsCache.get(l);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.elementsCache.set(l,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,s,this))},this.resizeItem=(e,s)=>{const n=this.measurementsCache[e];if(!n)return;const a=this.itemSizeCache.get(n.key)??n.size,l=s-a;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,l,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,s)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((s,n)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(n))});return}this._measureElement(e,void 0)},this.getVirtualItems=de(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,s)=>{const n=[];for(let a=0,l=e.length;a<l;a++){const o=e[a],u=s[o];n.push(u)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const s=this.getMeasurements();if(s.length!==0)return nt(s[Lt(0,s.length-1,n=>nt(s[n]).start,e)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const e=this.scrollElement.document.documentElement;return this.options.horizontal?e.scrollWidth-this.scrollElement.innerWidth:e.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(e,s,n=0)=>{if(!this.scrollElement)return 0;const a=this.getSize(),l=this.getScrollOffset();s==="auto"&&(s=e>=l+a?"end":"start"),s==="center"?e+=(n-a)/2:s==="end"&&(e-=a);const o=this.getMaxScrollOffset();return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,s="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const a=this.getSize(),l=this.getScrollOffset();if(s==="auto")if(n.end>=l+a-this.options.scrollPaddingEnd)s="end";else if(n.start<=l+this.options.scrollPaddingStart)s="start";else return[l,s];if(s==="end"&&e===this.options.count-1)return[this.getMaxScrollOffset(),s];const o=s==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,s,n.size),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:s="start",behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,s),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:s="auto",behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1)),this.currentScrollToIndex=e;let a=0;const l=10,o=h=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(e,h);if(!d){console.warn("Failed to get offset for index:",e);return}const[g,r]=d;this._scrollToOffset(g,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{const m=()=>{if(this.currentScrollToIndex!==e)return;const f=this.getScrollOffset(),v=this.getOffsetForIndex(e,r);if(!v){console.warn("Failed to get offset for index:",e);return}Ui(v[0],f)||u(r)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(m):m()})},u=h=>{this.targetWindow&&this.currentScrollToIndex===e&&(a++,a<l?this.targetWindow.requestAnimationFrame(()=>o(h)):console.warn(`Failed to scroll to index ${e} after ${l} attempts.`))};o(s)},this.scrollBy=(e,{behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var e;const s=this.getMeasurements();let n;if(s.length===0)n=this.options.paddingStart;else if(this.options.lanes===1)n=((e=s[s.length-1])==null?void 0:e.end)??0;else{const a=Array(this.options.lanes).fill(null);let l=s.length-1;for(;l>=0&&a.some(o=>o===null);){const o=s[l];a[o.lane]===null&&(a[o.lane]=o.end),l--}n=Math.max(...a.filter(o=>o!==null))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:s,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Lt=(i,t,e,s)=>{for(;i<=t;){const n=(i+t)/2|0,a=e(n);if(a<s)i=n+1;else if(a>s)t=n-1;else return n}return i>0?i-1:0};function ss({measurements:i,outerSize:t,scrollOffset:e,lanes:s}){const n=i.length-1,a=u=>i[u].start;if(i.length<=s)return{startIndex:0,endIndex:n};let l=Lt(0,n,a,e),o=l;if(s===1)for(;o<n&&i[o].end<e+t;)o++;else if(s>1){const u=Array(s).fill(0);for(;o<n&&u.some(d=>d<e+t);){const d=i[o];u[d.lane]=d.end,o++}const h=Array(s).fill(e+t);for(;l>=0&&h.some(d=>d>=e);){const d=i[l];h[d.lane]=d.start,l--}l=Math.max(0,l-l%s),o=Math.min(n,o+(s-1-o%s))}return{startIndex:l,endIndex:o}}function ns(i){const t=new is(p(i)),e=Ut(t),s=t._didMount();return xe(()=>p(i).getScrollElement(),n=>{n&&t._willUpdate()},{immediate:!0}),xe(()=>p(i),n=>{t.setOptions({...n,onChange:(a,l)=>{var o;Qe(e),(o=n.onChange)==null||o.call(n,a,l)}}),t._willUpdate(),Qe(e)},{immediate:!0}),Gt(s),e}function as(i){return ns(K(()=>({observeElementRect:Ji,observeElementOffset:Zi,scrollToFn:ts,...p(i)})))}var ls=ae({__name:"ListboxVirtualizer",props:{options:{type:Array,required:!0},overscan:{type:Number,required:!1},estimateSize:{type:[Number,Function],required:!1},textContent:{type:Function,required:!1}},setup(i){const t=i,e=We(),s=Fe(),n=Yt(),{getItems:a}=Le();s.isVirtual.value=!0;const l=K(()=>{const r=n.value;if(r){const m=window.getComputedStyle(r);return{start:Number.parseFloat(m.paddingBlockStart||m.paddingTop),end:Number.parseFloat(m.paddingBlockEnd||m.paddingBottom)}}else return{start:0,end:0}}),o=as({get scrollPaddingStart(){return l.value.start},get scrollPaddingEnd(){return l.value.end},get count(){return t.options.length},get horizontal(){return s.orientation.value==="horizontal"},estimateSize(r){return typeof t.estimateSize=="function"?t.estimateSize(r):t.estimateSize??28},getScrollElement(){return n.value},overscan:t.overscan??12}),u=K(()=>o.value.getVirtualItems().map(r=>{const m=e.default({option:t.options[r.index],virtualizer:o.value,virtualItem:r})[0],f=m.type===he&&Array.isArray(m.children)?m.children[0]:m;return{item:r,is:Zt(f,{key:`${r.key}`,"data-index":r.index,"aria-setsize":t.options.length,"aria-posinset":r.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${r.start}px)`,overflowAnchor:"none"}})}}));s.virtualFocusHook.on(r=>{const m=t.options.findIndex(f=>Array.isArray(s.modelValue.value)?ne(f,s.modelValue.value[0],s.by):ne(f,s.modelValue.value,s.by));m!==-1?(r?.preventDefault(),o.value.scrollToIndex(m,{align:"start"}),requestAnimationFrame(()=>{const f=st(n.value);f&&(s.changeHighlight(f),r&&f?.focus())})):s.highlightFirstItem()}),s.virtualHighlightHook.on(r=>{const m=t.options.findIndex(f=>ne(f,r,s.by));o.value.scrollToIndex(m,{align:"start"}),requestAnimationFrame(()=>{const f=st(n.value);f&&s.changeHighlight(f)})});const h=yt("",1e3),d=K(()=>{const r=m=>t.textContent?t.textContent(m):m?.toString().toLowerCase();return t.options.map((m,f)=>({index:f,textContent:r(m)}))});function g(r,m){if(!s.firstValue?.value||!s.multiple.value||!Array.isArray(s.modelValue.value))return;const v=a().filter(E=>E.ref.dataset.disabled!=="").find(E=>E.ref===s.highlightedElement.value)?.value;if(!v)return;let b=null;switch(m){case"prev":case"next":{b=Ce(t.options,s.firstValue.value,v);break}case"first":{b=Ce(t.options,s.firstValue.value,t.options?.[0]);break}case"last":{b=Ce(t.options,s.firstValue.value,t.options?.[t.options.length-1]);break}}s.modelValue.value=b}return s.virtualKeydownHook.on(r=>{const m=r.altKey||r.ctrlKey||r.metaKey;if(r.key==="Tab"&&!m)return;let v=Ii[r.key];if(m&&r.key==="a"&&s.multiple.value?(r.preventDefault(),s.modelValue.value=[...t.options],v="last"):r.shiftKey&&v&&g(r,v),["first","last"].includes(v)){r.preventDefault();const b=v==="first"?0:t.options.length-1;o.value.scrollToIndex(b),requestAnimationFrame(()=>{const E=a(),L=v==="first"?E[0]:E[E.length-1];L&&s.changeHighlight(L.ref)})}else if(!v&&!m){h.value+=r.key;const b=Number(Xt()?.getAttribute("data-index")),E=d.value[b].textContent,L=d.value.map(w=>w.textContent??""),T=Ei(L,h.value,E),_=d.value.find(w=>w.textContent===T);_&&(o.value.scrollToIndex(_.index,{align:"start"}),requestAnimationFrame(()=>{const w=n.value.querySelector(`[data-index="${_.index}"]`);w instanceof HTMLElement&&s.changeHighlight(w)}))}}),(r,m)=>(I(),N("div",{"data-reka-virtualizer":"",style:Jt({position:"relative",width:"100%",height:`${p(o).getTotalSize()}px`})},[(I(!0),N(he,null,be(u.value,({is:f,item:v})=>(I(),D(Qt(f),{key:v.index}))),128))],4))}}),rs=ls;function se(i){return Array.isArray?Array.isArray(i):Mt(i)==="[object Array]"}function os(i){if(typeof i=="string")return i;let t=i+"";return t=="0"&&1/i==-1/0?"-0":t}function us(i){return i==null?"":os(i)}function te(i){return typeof i=="string"}function Ft(i){return typeof i=="number"}function cs(i){return i===!0||i===!1||ds(i)&&Mt(i)=="[object Boolean]"}function wt(i){return typeof i=="object"}function ds(i){return wt(i)&&i!==null}function X(i){return i!=null}function _e(i){return!i.trim().length}function Mt(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const hs="Incorrect 'index' type",fs=i=>`Invalid value for key ${i}`,ps=i=>`Pattern length exceeds max of ${i}.`,ms=i=>`Missing ${i} property in key`,gs=i=>`Property 'weight' in key '${i}' must be a positive integer`,ot=Object.prototype.hasOwnProperty;class vs{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(s=>{let n=kt(s);this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight}),this._keys.forEach(s=>{s.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function kt(i){let t=null,e=null,s=null,n=1,a=null;if(te(i)||se(i))s=i,t=ut(i),e=Re(i);else{if(!ot.call(i,"name"))throw new Error(ms("name"));const l=i.name;if(s=l,ot.call(i,"weight")&&(n=i.weight,n<=0))throw new Error(gs(l));t=ut(l),e=Re(l),a=i.getFn}return{path:t,id:e,weight:n,src:s,getFn:a}}function ut(i){return se(i)?i:i.split(".")}function Re(i){return se(i)?i.join("."):i}function ys(i,t){let e=[],s=!1;const n=(a,l,o)=>{if(X(a))if(!l[o])e.push(a);else{let u=l[o];const h=a[u];if(!X(h))return;if(o===l.length-1&&(te(h)||Ft(h)||cs(h)))e.push(us(h));else if(se(h)){s=!0;for(let d=0,g=h.length;d<g;d+=1)n(h[d],l,o+1)}else l.length&&n(h,l,o+1)}};return n(i,te(t)?t.split("."):t,0),s?e:e[0]}const bs={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},xs={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,t)=>i.score===t.score?i.idx<t.idx?-1:1:i.score<t.score?-1:1},As={location:0,threshold:.6,distance:100},Cs={useExtendedSearch:!1,getFn:ys,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var A={...xs,...bs,...As,...Cs};const Es=/[^ ]+/g;function Ss(i=1,t=3){const e=new Map,s=Math.pow(10,t);return{get(n){const a=n.match(Es).length;if(e.has(a))return e.get(a);const l=1/Math.pow(a,.5*i),o=parseFloat(Math.round(l*s)/s);return e.set(a,o),o},clear(){e.clear()}}}class Ge{constructor({getFn:t=A.getFn,fieldNormWeight:e=A.fieldNormWeight}={}){this.norm=Ss(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((e,s)=>{this._keysMap[e.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,te(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();te(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,s=this.size();e<s;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!X(t)||_e(t))return;let s={v:t,i:e,n:this.norm.get(t)};this.records.push(s)}_addObject(t,e){let s={i:e,$:{}};this.keys.forEach((n,a)=>{let l=n.getFn?n.getFn(t):this.getFn(t,n.path);if(X(l)){if(se(l)){let o=[];const u=[{nestedArrIndex:-1,value:l}];for(;u.length;){const{nestedArrIndex:h,value:d}=u.pop();if(X(d))if(te(d)&&!_e(d)){let g={v:d,i:h,n:this.norm.get(d)};o.push(g)}else se(d)&&d.forEach((g,r)=>{u.push({nestedArrIndex:r,value:g})})}s.$[a]=o}else if(te(l)&&!_e(l)){let o={v:l,n:this.norm.get(l)};s.$[a]=o}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function _t(i,t,{getFn:e=A.getFn,fieldNormWeight:s=A.fieldNormWeight}={}){const n=new Ge({getFn:e,fieldNormWeight:s});return n.setKeys(i.map(kt)),n.setSources(t),n.create(),n}function Is(i,{getFn:t=A.getFn,fieldNormWeight:e=A.fieldNormWeight}={}){const{keys:s,records:n}=i,a=new Ge({getFn:t,fieldNormWeight:e});return a.setKeys(s),a.setIndexRecords(n),a}function Ae(i,{errors:t=0,currentLocation:e=0,expectedLocation:s=0,distance:n=A.distance,ignoreLocation:a=A.ignoreLocation}={}){const l=t/i.length;if(a)return l;const o=Math.abs(s-e);return n?l+o/n:o?1:l}function Ls(i=[],t=A.minMatchCharLength){let e=[],s=-1,n=-1,a=0;for(let l=i.length;a<l;a+=1){let o=i[a];o&&s===-1?s=a:!o&&s!==-1&&(n=a-1,n-s+1>=t&&e.push([s,n]),s=-1)}return i[a-1]&&a-s>=t&&e.push([s,a-1]),e}const re=32;function Fs(i,t,e,{location:s=A.location,distance:n=A.distance,threshold:a=A.threshold,findAllMatches:l=A.findAllMatches,minMatchCharLength:o=A.minMatchCharLength,includeMatches:u=A.includeMatches,ignoreLocation:h=A.ignoreLocation}={}){if(t.length>re)throw new Error(ps(re));const d=t.length,g=i.length,r=Math.max(0,Math.min(s,g));let m=a,f=r;const v=o>1||u,b=v?Array(g):[];let E;for(;(E=i.indexOf(t,f))>-1;){let S=Ae(t,{currentLocation:E,expectedLocation:r,distance:n,ignoreLocation:h});if(m=Math.min(S,m),f=E+d,v){let H=0;for(;H<d;)b[E+H]=1,H+=1}}f=-1;let L=[],T=1,_=d+g;const w=1<<d-1;for(let S=0;S<d;S+=1){let H=0,R=_;for(;H<R;)Ae(t,{errors:S,currentLocation:r+R,expectedLocation:r,distance:n,ignoreLocation:h})<=m?H=R:_=R,R=Math.floor((_-H)/2+H);_=R;let Q=Math.max(1,r-R+1),Z=l?g:Math.min(r+R,g)+d,C=Array(Z+2);C[Z+1]=(1<<S)-1;for(let c=Z;c>=Q;c-=1){let z=c-1,x=e[i.charAt(z)];if(v&&(b[z]=+!!x),C[c]=(C[c+1]<<1|1)&x,S&&(C[c]|=(L[c+1]|L[c])<<1|1|L[c+1]),C[c]&w&&(T=Ae(t,{errors:S,currentLocation:z,expectedLocation:r,distance:n,ignoreLocation:h}),T<=m)){if(m=T,f=z,f<=r)break;Q=Math.max(1,2*r-f)}}if(Ae(t,{errors:S+1,currentLocation:r,expectedLocation:r,distance:n,ignoreLocation:h})>m)break;L=C}const k={isMatch:f>=0,score:Math.max(.001,T)};if(v){const S=Ls(b,o);S.length?u&&(k.indices=S):k.isMatch=!1}return k}function ws(i){let t={};for(let e=0,s=i.length;e<s;e+=1){const n=i.charAt(e);t[n]=(t[n]||0)|1<<s-e-1}return t}const Se=String.prototype.normalize?(i=>i.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(i=>i);class zt{constructor(t,{location:e=A.location,threshold:s=A.threshold,distance:n=A.distance,includeMatches:a=A.includeMatches,findAllMatches:l=A.findAllMatches,minMatchCharLength:o=A.minMatchCharLength,isCaseSensitive:u=A.isCaseSensitive,ignoreDiacritics:h=A.ignoreDiacritics,ignoreLocation:d=A.ignoreLocation}={}){if(this.options={location:e,threshold:s,distance:n,includeMatches:a,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:u,ignoreDiacritics:h,ignoreLocation:d},t=u?t:t.toLowerCase(),t=h?Se(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const g=(m,f)=>{this.chunks.push({pattern:m,alphabet:ws(m),startIndex:f})},r=this.pattern.length;if(r>re){let m=0;const f=r%re,v=r-f;for(;m<v;)g(this.pattern.substr(m,re),m),m+=re;if(f){const b=r-re;g(this.pattern.substr(b),b)}}else g(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,ignoreDiacritics:s,includeMatches:n}=this.options;if(t=e?t:t.toLowerCase(),t=s?Se(t):t,this.pattern===t){let v={isMatch:!0,score:0};return n&&(v.indices=[[0,t.length-1]]),v}const{location:a,distance:l,threshold:o,findAllMatches:u,minMatchCharLength:h,ignoreLocation:d}=this.options;let g=[],r=0,m=!1;this.chunks.forEach(({pattern:v,alphabet:b,startIndex:E})=>{const{isMatch:L,score:T,indices:_}=Fs(t,v,b,{location:a+E,distance:l,threshold:o,findAllMatches:u,minMatchCharLength:h,includeMatches:n,ignoreLocation:d});L&&(m=!0),r+=T,L&&_&&(g=[...g,..._])});let f={isMatch:m,score:m?r/this.chunks.length:1};return m&&n&&(f.indices=g),f}}class le{constructor(t){this.pattern=t}static isMultiMatch(t){return ct(t,this.multiRegex)}static isSingleMatch(t){return ct(t,this.singleRegex)}search(){}}function ct(i,t){const e=i.match(t);return e?e[1]:null}class Ms extends le{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class ks extends le{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class _s extends le{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class zs extends le{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class Ts extends le{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Bs extends le{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class Tt extends le{constructor(t,{location:e=A.location,threshold:s=A.threshold,distance:n=A.distance,includeMatches:a=A.includeMatches,findAllMatches:l=A.findAllMatches,minMatchCharLength:o=A.minMatchCharLength,isCaseSensitive:u=A.isCaseSensitive,ignoreDiacritics:h=A.ignoreDiacritics,ignoreLocation:d=A.ignoreLocation}={}){super(t),this._bitapSearch=new zt(t,{location:e,threshold:s,distance:n,includeMatches:a,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:u,ignoreDiacritics:h,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Bt extends le{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e=0,s;const n=[],a=this.pattern.length;for(;(s=t.indexOf(this.pattern,e))>-1;)e=s+a,n.push([s,e-1]);const l=!!n.length;return{isMatch:l,score:l?0:1,indices:n}}}const $e=[Ms,Bt,_s,zs,Bs,Ts,ks,Tt],dt=$e.length,Ds=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Os="|";function Ks(i,t={}){return i.split(Os).map(e=>{let s=e.trim().split(Ds).filter(a=>a&&!!a.trim()),n=[];for(let a=0,l=s.length;a<l;a+=1){const o=s[a];let u=!1,h=-1;for(;!u&&++h<dt;){const d=$e[h];let g=d.isMultiMatch(o);g&&(n.push(new d(g,t)),u=!0)}if(!u)for(h=-1;++h<dt;){const d=$e[h];let g=d.isSingleMatch(o);if(g){n.push(new d(g,t));break}}}return n})}const Rs=new Set([Tt.type,Bt.type]);class $s{constructor(t,{isCaseSensitive:e=A.isCaseSensitive,ignoreDiacritics:s=A.ignoreDiacritics,includeMatches:n=A.includeMatches,minMatchCharLength:a=A.minMatchCharLength,ignoreLocation:l=A.ignoreLocation,findAllMatches:o=A.findAllMatches,location:u=A.location,threshold:h=A.threshold,distance:d=A.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:s,includeMatches:n,minMatchCharLength:a,findAllMatches:o,ignoreLocation:l,location:u,threshold:h,distance:d},t=e?t:t.toLowerCase(),t=s?Se(t):t,this.pattern=t,this.query=Ks(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:n,ignoreDiacritics:a}=this.options;t=n?t:t.toLowerCase(),t=a?Se(t):t;let l=0,o=[],u=0;for(let h=0,d=e.length;h<d;h+=1){const g=e[h];o.length=0,l=0;for(let r=0,m=g.length;r<m;r+=1){const f=g[r],{isMatch:v,indices:b,score:E}=f.search(t);if(v){if(l+=1,u+=E,s){const L=f.constructor.type;Rs.has(L)?o=[...o,...b]:o.push(b)}}else{u=0,l=0,o.length=0;break}}if(l){let r={isMatch:!0,score:u/l};return s&&(r.indices=o),r}}return{isMatch:!1,score:1}}}const qe=[];function qs(...i){qe.push(...i)}function Pe(i,t){for(let e=0,s=qe.length;e<s;e+=1){let n=qe[e];if(n.condition(i,t))return new n(i,t)}return new zt(i,t)}const Ie={AND:"$and",OR:"$or"},He={PATH:"$path",PATTERN:"$val"},Ve=i=>!!(i[Ie.AND]||i[Ie.OR]),Ps=i=>!!i[He.PATH],Hs=i=>!se(i)&&wt(i)&&!Ve(i),ht=i=>({[Ie.AND]:Object.keys(i).map(t=>({[t]:i[t]}))});function Dt(i,t,{auto:e=!0}={}){const s=n=>{let a=Object.keys(n);const l=Ps(n);if(!l&&a.length>1&&!Ve(n))return s(ht(n));if(Hs(n)){const u=l?n[He.PATH]:a[0],h=l?n[He.PATTERN]:n[u];if(!te(h))throw new Error(fs(u));const d={keyId:Re(u),pattern:h};return e&&(d.searcher=Pe(h,t)),d}let o={children:[],operator:a[0]};return a.forEach(u=>{const h=n[u];se(h)&&h.forEach(d=>{o.children.push(s(d))})}),o};return Ve(i)||(i=ht(i)),s(i)}function Vs(i,{ignoreFieldNorm:t=A.ignoreFieldNorm}){i.forEach(e=>{let s=1;e.matches.forEach(({key:n,norm:a,score:l})=>{const o=n?n.weight:null;s*=Math.pow(l===0&&o?Number.EPSILON:l,(o||1)*(t?1:a))}),e.score=s})}function Ns(i,t){const e=i.matches;t.matches=[],X(e)&&e.forEach(s=>{if(!X(s.indices)||!s.indices.length)return;const{indices:n,value:a}=s;let l={indices:n,value:a};s.key&&(l.key=s.key.src),s.idx>-1&&(l.refIndex=s.idx),t.matches.push(l)})}function js(i,t){t.score=i.score}function Ws(i,t,{includeMatches:e=A.includeMatches,includeScore:s=A.includeScore}={}){const n=[];return e&&n.push(Ns),s&&n.push(js),i.map(a=>{const{idx:l}=a,o={item:t[l],refIndex:l};return n.length&&n.forEach(u=>{u(a,o)}),o})}class pe{constructor(t,e={},s){this.options={...A,...e},this.options.useExtendedSearch,this._keyStore=new vs(this.options.keys),this.setCollection(t,s)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Ge))throw new Error(hs);this._myIndex=e||_t(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){X(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let s=0,n=this._docs.length;s<n;s+=1){const a=this._docs[s];t(a,s)&&(this.removeAt(s),s-=1,n-=1,e.push(a))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:s,includeScore:n,shouldSort:a,sortFn:l,ignoreFieldNorm:o}=this.options;let u=te(t)?te(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Vs(u,{ignoreFieldNorm:o}),a&&u.sort(l),Ft(e)&&e>-1&&(u=u.slice(0,e)),Ws(u,this._docs,{includeMatches:s,includeScore:n})}_searchStringList(t){const e=Pe(t,this.options),{records:s}=this._myIndex,n=[];return s.forEach(({v:a,i:l,n:o})=>{if(!X(a))return;const{isMatch:u,score:h,indices:d}=e.searchIn(a);u&&n.push({item:a,idx:l,matches:[{score:h,value:a,norm:o,indices:d}]})}),n}_searchLogical(t){const e=Dt(t,this.options),s=(o,u,h)=>{if(!o.children){const{keyId:g,searcher:r}=o,m=this._findMatches({key:this._keyStore.get(g),value:this._myIndex.getValueForItemAtKeyId(u,g),searcher:r});return m&&m.length?[{idx:h,item:u,matches:m}]:[]}const d=[];for(let g=0,r=o.children.length;g<r;g+=1){const m=o.children[g],f=s(m,u,h);if(f.length)d.push(...f);else if(o.operator===Ie.AND)return[]}return d},n=this._myIndex.records,a={},l=[];return n.forEach(({$:o,i:u})=>{if(X(o)){let h=s(e,o,u);h.length&&(a[u]||(a[u]={idx:u,item:o,matches:[]},l.push(a[u])),h.forEach(({matches:d})=>{a[u].matches.push(...d)}))}}),l}_searchObjectList(t){const e=Pe(t,this.options),{keys:s,records:n}=this._myIndex,a=[];return n.forEach(({$:l,i:o})=>{if(!X(l))return;let u=[];s.forEach((h,d)=>{u.push(...this._findMatches({key:h,value:l[d],searcher:e}))}),u.length&&a.push({idx:o,item:l,matches:u})}),a}_findMatches({key:t,value:e,searcher:s}){if(!X(e))return[];let n=[];if(se(e))e.forEach(({v:a,i:l,n:o})=>{if(!X(a))return;const{isMatch:u,score:h,indices:d}=s.searchIn(a);u&&n.push({score:h,key:t,value:a,idx:l,norm:o,indices:d})});else{const{v:a,n:l}=e,{isMatch:o,score:u,indices:h}=s.searchIn(a);o&&n.push({score:u,key:t,value:a,norm:l,indices:h})}return n}}pe.version="7.1.0";pe.createIndex=_t;pe.parseIndex=Is;pe.config=A;pe.parseQuery=Dt;qs($s);function Gs(i,t,e){const s=()=>{var a,l;return new pe((a=ie(t))!==null&&a!==void 0?a:[],(l=ie(e))===null||l===void 0?void 0:l.fuseOptions)},n=J(s());return xe(()=>{var a;return(a=ie(e))===null||a===void 0?void 0:a.fuseOptions},()=>{n.value=s()},{deep:!0}),xe(()=>ie(t),a=>{n.value.setCollection(a)},{deep:!0}),{fuse:n,results:K(()=>{const a=ie(e);if(a?.matchAllWhenSearchEmpty&&!ie(i))return ie(t).map((o,u)=>({item:o,refIndex:u}));const l=a?.resultLimit;return n.value.search(ie(i),l?{limit:l}:void 0)})}}const Us={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ys(i){return i.replace(/[&<>"']/g,t=>Us[t])}function Xs(i){return/&(?:amp|lt|gt|quot|#39);/.test(i)}function ze(i){return Xs(i)?i:Ys(i)}function Qs(i,t){let e="",s=0,n=!1;for(let a=i.length-1;a>=0;a--){if(i[a]===">")n=!0;else if(i[a]==="<"){n=!1,e=i[a]+e;continue}if(n||s++,s<=t)e=i[a]+e;else{e="..."+e;break}}return e}function ft(i,t,e,s){function n(a,l=[]){a=a||"";let o="",u=0;l.forEach(d=>{if(d.length===2&&d[0]===d[1])return;const g=d[1]+1,r=g-d[0]>=t.length;o+=[ze(a.substring(u,d[0])),r&&"<mark>",ze(a.substring(d[0],g)),r&&"</mark>"].filter(Boolean).join(""),u=g}),o+=ze(a.substring(u));const h=o.indexOf("<mark>");return h!==-1&&(o=Qs(o,o.length-h)),o}if(i.matches?.length){for(const a of i.matches)if(!(e&&a.key!==e)&&!s?.includes(a.key))return n(a.value,a.indices)}}function Js(i,t){if(typeof i!="object"||i===null)return!1;const e=ee(i,t);return e!=null&&e!==""}function pt(i,t){return t?{xs:44,sm:48,md:52,lg:56,xl:60}[i]:{xs:24,sm:28,md:32,lg:36,xl:40}[i]}function Zs(i,t,e,s){const n=pt(t,!0),a=pt(t,!1);return s?()=>n:e?l=>Js(i[l],e)?n:a:()=>a}const en={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"",close:"",back:"p-0",content:"relative overflow-hidden flex flex-col",footer:"p-1",viewport:"relative scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",item:"group relative w-full flex items-start select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex items-center",itemTrailingIcon:"shrink-0",itemTrailingHighlightedIcon:"shrink-0 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemWrapper:"flex-1 flex flex-col text-start min-w-0",itemLabel:"truncate space-x-1 text-dimmed",itemDescription:"truncate text-muted",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{virtualize:{true:{viewport:"p-1 isolate"},false:{viewport:"divide-y divide-default"}},size:{xs:{input:"[&>input]:h-10",empty:"py-3 text-xs",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailing:"gap-1",itemTrailingIcon:"size-4",itemTrailingHighlightedIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{input:"[&>input]:h-11",empty:"py-4 text-xs",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailing:"gap-1.5",itemTrailingIcon:"size-4",itemTrailingHighlightedIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{input:"[&>input]:h-12",empty:"py-6 text-sm",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailing:"gap-1.5",itemTrailingIcon:"size-5",itemTrailingHighlightedIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{input:"[&>input]:h-13",empty:"py-7 text-sm",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailing:"gap-2",itemTrailingIcon:"size-5",itemTrailingHighlightedIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},xl:{input:"[&>input]:h-14",empty:"py-8 text-base",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailing:"gap-2",itemTrailingIcon:"size-6",itemTrailingHighlightedIcon:"size-6",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"lg"}},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}},defaultVariants:{size:"md"}},tn=["innerHTML"],sn=["innerHTML"],nn=Object.assign({inheritAttrs:!1},{__name:"UCommandPalette",props:Oe({as:{type:null,required:!1},size:{type:null,required:!1},icon:{type:null,required:!1},trailingIcon:{type:null,required:!1},selectedIcon:{type:null,required:!1},childrenIcon:{type:null,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:null,required:!1},back:{type:[Boolean,Object],required:!1,default:!0},backIcon:{type:null,required:!1},input:{type:[Boolean,Object],required:!1,default:!0},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},virtualize:{type:[Boolean,Object],required:!1,default:!1},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},preserveGroupOrder:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},selectionBehavior:{type:String,required:!1},by:{type:[String,Function],required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:Oe(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(i,{emit:t}){const e=i,s=t,n=We(),a=At(i,"searchTerm",{type:String,default:""}),{t:l}=Ct(),o=Et(),u=ei(Be(e,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover","by"),s),h=ui(()=>e.virtualize?Ke(typeof e.virtualize=="boolean"?{}:e.virtualize,{estimateSize:Zs(k.value,"md",e.descriptionKey,!!n["item-description"])}):!1),[d,g]=ti({props:{item:{type:Object,required:!0},group:{type:Object,required:!1},index:{type:Number,required:!1}}}),r=K(()=>Ee({extend:Ee(en),...o.ui?.commandPalette||{}})({size:e.size,virtualize:!!e.virtualize})),m=K(()=>Ke({},e.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[e.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),f=J([]),v=K(()=>f.value[f.value.length-1]?.placeholder||e.placeholder||l("commandPalette.placeholder")),b=K(()=>f.value?.length?[f.value[f.value.length-1]]:e.groups),E=K(()=>b.value?.filter(C=>C.id?!C.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1))?.flatMap(C=>C.items?.map(q=>({...q,group:C.id}))||[])||[]),{results:L}=Gs(a,E,m),T=ii(L,16,!0);function _(C,q){let c=q;return C?.postFilter&&typeof C.postFilter=="function"&&(c=C.postFilter(a.value,c)),{...C,items:c.slice(0,m.value.resultLimit).map(z=>({...z,labelHtml:ft(z,a.value,e.labelKey),suffixHtml:ft(z,a.value,void 0,[e.labelKey])}))}}const w=K(()=>{const C=b.value,q=T.value.reduce((x,B)=>{const{item:G,matches:W}=B;return G.group&&(x[G.group]||=[],x[G.group]?.push({...G,matches:W})),x},{});if(e.preserveGroupOrder){const x=[];for(const B of C||[]){if(!B.items?.length)continue;const G=B.ignoreFilter?B.items:q[B.id];if(!G?.length)continue;const W=_(B,G);W.items?.length&&x.push(W)}return x}const c=Object.entries(q).map(([x,B])=>{const G=C?.find(me=>me.id===x);if(!G)return;const W=_(G,B);return W.items?.length?W:void 0}).filter(x=>!!x);return(C?.map((x,B)=>({...x,index:B}))?.filter(x=>x.ignoreFilter&&x.items?.length)?.map(x=>({..._(x,x.items||[]),index:x.index}))?.filter(x=>x.items?.length)||[]).reduce((x,B)=>(x.splice(B.index,0,B),x),[...c])}),k=K(()=>w.value.flatMap(C=>C.items||[])),S=St("rootRef");function H(C){C.children?.length&&(f.value.push({id:`history-${f.value.length}`,label:C.label,slot:C.slot,placeholder:C.placeholder,items:C.children}),a.value="",S.value?.highlightFirstItem())}function R(){f.value.length&&(f.value.pop(),a.value="",S.value?.highlightFirstItem())}function Q(){a.value||R()}function Z(C,q){q.children?.length?(C.preventDefault(),H(q)):q.onSelect?.(C)}return(C,q)=>(I(),N(he,null,[Y(p(d),null,{default:O(({item:c,index:z,group:x})=>[Y(si,j(p(ni)(c),{custom:""}),{default:O(({active:B,...G})=>[Y(p(ji),{value:e.valueKey?p(ee)(c,e.valueKey):p(De)(c,["matches","group","onSelect","labelHtml","suffixHtml","children"]),disabled:c.disabled,"as-child":"",onSelect:W=>Z(W,c)},{default:O(()=>[Y(ai,j(G,{"data-slot":"item",class:r.value.item({class:[e.ui?.item,c.ui?.item,c.class],active:B||c.active})}),{default:O(()=>[V(C.$slots,c.slot||x?.slot||"item",{item:c,index:z,ui:r.value},()=>[V(C.$slots,c.slot?`${c.slot}-leading`:x?.slot?`${x.slot}-leading`:"item-leading",{item:c,index:z,ui:r.value},()=>[c.loading?(I(),D(ye,{key:0,name:i.loadingIcon||p(o).ui.icons.loading,"data-slot":"itemLeadingIcon",class:$(r.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,c.ui?.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):c.icon?(I(),D(ye,{key:1,name:c.icon,"data-slot":"itemLeadingIcon",class:$(r.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,c.ui?.itemLeadingIcon],active:B||c.active}))},null,8,["name","class"])):c.avatar?(I(),D(li,j({key:2,size:c.ui?.itemLeadingAvatarSize||e.ui?.itemLeadingAvatarSize||r.value.itemLeadingAvatarSize()},c.avatar,{"data-slot":"itemLeadingAvatar",class:r.value.itemLeadingAvatar({class:[e.ui?.itemLeadingAvatar,c.ui?.itemLeadingAvatar],active:B||c.active})}),null,16,["size","class"])):c.chip?(I(),D(ri,j({key:3,size:c.ui?.itemLeadingChipSize||e.ui?.itemLeadingChipSize||r.value.itemLeadingChipSize(),inset:"",standalone:""},c.chip,{"data-slot":"itemLeadingChip",class:r.value.itemLeadingChip({class:[e.ui?.itemLeadingChip,c.ui?.itemLeadingChip],active:B||c.active})}),null,16,["size","class"])):U("",!0)]),c.prefix||c.labelHtml||p(ee)(c,e.labelKey)||c.suffixHtml||c.suffix||n[c.slot?`${c.slot}-label`:x?.slot?`${x.slot}-label`:"item-label"]||p(ee)(c,e.descriptionKey)||n[c.slot?`${c.slot}-description`:x?.slot?`${x.slot}-description`:"item-description"]?(I(),N("span",{key:0,"data-slot":"itemWrapper",class:$(r.value.itemWrapper({class:[e.ui?.itemWrapper,c.ui?.itemWrapper]}))},[Je("span",{"data-slot":"itemLabel",class:$(r.value.itemLabel({class:[e.ui?.itemLabel,c.ui?.itemLabel],active:B||c.active}))},[V(C.$slots,c.slot?`${c.slot}-label`:x?.slot?`${x.slot}-label`:"item-label",{item:c,index:z,ui:r.value},()=>[c.prefix?(I(),N("span",{key:0,"data-slot":"itemLabelPrefix",class:$(r.value.itemLabelPrefix({class:[e.ui?.itemLabelPrefix,c.ui?.itemLabelPrefix]}))},ce(c.prefix),3)):U("",!0),c.labelHtml?(I(),N("span",{key:1,"data-slot":"itemLabelBase",class:$(r.value.itemLabelBase({class:[e.ui?.itemLabelBase,c.ui?.itemLabelBase],active:B||c.active})),innerHTML:c.labelHtml},null,10,tn)):(I(),N("span",{key:2,"data-slot":"itemLabelBase",class:$(r.value.itemLabelBase({class:[e.ui?.itemLabelBase,c.ui?.itemLabelBase],active:B||c.active}))},ce(p(ee)(c,e.labelKey)),3)),c.suffixHtml?(I(),N("span",{key:3,"data-slot":"itemLabelSuffix",class:$(r.value.itemLabelSuffix({class:[e.ui?.itemLabelSuffix,c.ui?.itemLabelSuffix],active:B||c.active})),innerHTML:c.suffixHtml},null,10,sn)):c.suffix?(I(),N("span",{key:4,"data-slot":"itemLabelSuffix",class:$(r.value.itemLabelSuffix({class:[e.ui?.itemLabelSuffix,c.ui?.itemLabelSuffix],active:B||c.active}))},ce(c.suffix),3)):U("",!0)])],2),p(ee)(c,e.descriptionKey)||n[c.slot?`${c.slot}-description`:x?.slot?`${x.slot}-description`:"item-description"]?(I(),N("span",{key:0,"data-slot":"itemDescription",class:$(r.value.itemDescription({class:[e.ui?.itemDescription,c.ui?.itemDescription]}))},[V(C.$slots,c.slot?`${c.slot}-description`:x?.slot?`${x.slot}-description`:"item-description",{item:c,index:z,ui:r.value},()=>[ke(ce(p(ee)(c,e.descriptionKey)),1)])],2)):U("",!0)],2)):U("",!0),Je("span",{"data-slot":"itemTrailing",class:$(r.value.itemTrailing({class:[e.ui?.itemTrailing,c.ui?.itemTrailing]}))},[V(C.$slots,c.slot?`${c.slot}-trailing`:x?.slot?`${x.slot}-trailing`:"item-trailing",{item:c,index:z,ui:r.value},()=>[c.children&&c.children.length>0?(I(),D(ye,{key:0,name:i.childrenIcon||p(o).ui.icons.chevronRight,"data-slot":"itemTrailingIcon",class:$(r.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,c.ui?.itemTrailingIcon]}))},null,8,["name","class"])):c.kbds?.length?(I(),N("span",{key:1,"data-slot":"itemTrailingKbds",class:$(r.value.itemTrailingKbds({class:[e.ui?.itemTrailingKbds,c.ui?.itemTrailingKbds]}))},[(I(!0),N(he,null,be(c.kbds,(W,me)=>(I(),D(oi,j({key:me,size:c.ui?.itemTrailingKbdsSize||e.ui?.itemTrailingKbdsSize||r.value.itemTrailingKbdsSize()},{ref_for:!0},typeof W=="string"?{value:W}:W),null,16,["size"]))),128))],2)):x?.highlightedIcon?(I(),D(ye,{key:2,name:x.highlightedIcon,"data-slot":"itemTrailingHighlightedIcon",class:$(r.value.itemTrailingHighlightedIcon({class:[e.ui?.itemTrailingHighlightedIcon,c.ui?.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):U("",!0)]),c.children?.length?U("",!0):(I(),D(p(Gi),{key:0,"as-child":""},{default:O(()=>[Y(ye,{name:i.selectedIcon||p(o).ui.icons.check,"data-slot":"itemTrailingIcon",class:$(r.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,c.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024))],2)])]),_:2},1040,["class"])]),_:2},1032,["value","disabled","onSelect"])]),_:2},1040)]),_:3}),Y(p(ki),j({...p(u),...C.$attrs},{ref_key:"rootRef",ref:S,"selection-behavior":i.selectionBehavior,"data-slot":"root",class:r.value.root({class:[e.ui?.root,e.class]})}),{default:O(()=>[i.input?(I(),D(p(Bi),{key:0,modelValue:a.value,"onUpdate:modelValue":q[1]||(q[1]=c=>a.value=c),"as-child":""},{default:O(()=>[Y(Ai,j({variant:"none",size:i.size},typeof e.input=="object"?e.input:{},{placeholder:v.value,autofocus:i.autofocus,loading:i.loading,"loading-icon":i.loadingIcon,"trailing-icon":i.trailingIcon,icon:i.icon||p(o).ui.icons.search,"data-slot":"input",class:r.value.input({class:e.ui?.input}),onKeydown:fe(Q,["backspace"])}),It({_:2},[f.value?.length&&(i.back||n.back)?{name:"leading",fn:O(()=>[V(C.$slots,"back",{ui:r.value},()=>[Y(Ze,j({size:i.size,icon:i.backIcon||p(o).ui.icons.arrowLeft,color:"neutral",variant:"link","aria-label":p(l)("commandPalette.back")},typeof i.back=="object"?i.back:{},{"data-slot":"back",class:r.value.back({class:e.ui?.back}),onClick:R}),null,16,["size","icon","aria-label","class"])])]),key:"0"}:void 0,i.close||n.close?{name:"trailing",fn:O(()=>[V(C.$slots,"close",{ui:r.value},()=>[i.close?(I(),D(Ze,j({key:0,size:i.size,icon:i.closeIcon||p(o).ui.icons.close,color:"neutral",variant:"ghost","aria-label":p(l)("commandPalette.close")},typeof i.close=="object"?i.close:{},{"data-slot":"close",class:r.value.close({class:e.ui?.close}),onClick:q[0]||(q[0]=c=>s("update:open",!1))}),null,16,["size","icon","aria-label","class"])):U("",!0)])]),key:"1"}:void 0]),1040,["size","placeholder","autofocus","loading","loading-icon","trailing-icon","icon","class"])]),_:3},8,["modelValue"])):U("",!0),Y(p(zi),{"data-slot":"content",class:$(r.value.content({class:e.ui?.content}))},{default:O(()=>[w.value?.length?(I(),N("div",{key:0,role:"presentation","data-slot":"viewport",class:$(r.value.viewport({class:e.ui?.viewport}))},[i.virtualize?(I(),D(p(rs),j({key:0,options:k.value,"text-content":c=>p(ee)(c,e.labelKey)},h.value),{default:O(({option:c,virtualItem:z})=>[Y(p(g),{item:c,index:z.index},null,8,["item","index"])]),_:1},16,["options","text-content"])):(I(!0),N(he,{key:1},be(w.value,c=>(I(),D(p(Ri),{key:`group-${c.id}`,"data-slot":"group",class:$(r.value.group({class:e.ui?.group}))},{default:O(()=>[p(ee)(c,e.labelKey)?(I(),D(p(qi),{key:0,"data-slot":"label",class:$(r.value.label({class:e.ui?.label}))},{default:O(()=>[ke(ce(p(ee)(c,e.labelKey)),1)]),_:2},1032,["class"])):U("",!0),(I(!0),N(he,null,be(c.items,(z,x)=>(I(),D(p(g),{key:`group-${c.id}-${x}`,item:z,index:x,group:c},null,8,["item","index","group"]))),128))]),_:2},1032,["class"]))),128))],2)):(I(),N("div",{key:1,"data-slot":"empty",class:$(r.value.empty({class:e.ui?.empty}))},[V(C.$slots,"empty",{searchTerm:a.value},()=>[ke(ce(a.value?p(l)("commandPalette.noMatch",{searchTerm:a.value}):p(l)("commandPalette.noData")),1)])],2))]),_:3},8,["class"]),n.footer?(I(),N("div",{key:1,"data-slot":"footer",class:$(r.value.footer({class:e.ui?.footer}))},[V(C.$slots,"footer",{ui:r.value})],2)):U("",!0)]),_:3},16,["selection-behavior","class"])],64))}}),an={slots:{modal:"",input:""},variants:{fullscreen:{false:{modal:"sm:max-w-3xl h-full sm:h-[28rem]"}},size:{xs:{input:"[&>input]:text-sm"},sm:{input:"[&>input]:text-sm"},md:{input:"[&>input]:text-base/5"},lg:{input:"[&>input]:text-base/5"},xl:{input:"[&>input]:text-lg"}}},defaultVariants:{size:"md"}},ln=/^[^-]+.*-.*[^-]+$/,rn=/^[^_]+.*_.*[^_]+$/,mt=["arrowleft","arrowright","arrowup","arrowright","tab","escape","enter","backspace"];function Te(i){return/^[a-z]$/i.test(i)?`Key${i.toUpperCase()}`:/^\d$/.test(i)?`Digit${i}`:/^f\d+$/i.test(i)?i.toUpperCase():{space:"Space",enter:"Enter",escape:"Escape",tab:"Tab",backspace:"Backspace",delete:"Delete",arrowup:"ArrowUp",arrowdown:"ArrowDown",arrowleft:"ArrowLeft",arrowright:"ArrowRight"}[i.toLowerCase()]||i}function on(i,t={}){const e=J([]),s=()=>{e.value.splice(0,e.value.length)},n=ci(s,t.chainDelay??800),{macOS:a}=di(),l=fi(),o=t.layoutIndependent??!1,u=mt.map(r=>Te(r)),h=r=>{if(!r.key)return;const m=o?/^Key[A-Z]$/i.test(r.code):/^[a-z]{1}$/i.test(r.key),f=o?u.includes(r.code):mt.includes(r.key.toLowerCase());let v;if(e.value.push(o?r.code:r.key),e.value.length>=2){v=e.value.slice(-2).join("-");for(const b of g.value.filter(E=>E.chained))if(b.key===v){b.enabled&&(r.preventDefault(),b.handler(r)),s();return}}for(const b of g.value.filter(E=>!E.chained)){if(o){if(r.code!==b.key)continue}else if(r.key.toLowerCase()!==b.key)continue;if(r.metaKey===b.metaKey&&r.ctrlKey===b.ctrlKey&&!((m||f||b.shiftKey||r.shiftKey)&&r.shiftKey!==b.shiftKey)){b.enabled&&(r.preventDefault(),b.handler(r)),s();return}}n()},d=K(()=>{const r=l.value?.tagName,m=l.value?.contentEditable;return r==="INPUT"||r==="TEXTAREA"||m==="true"||m==="plaintext-only"?l.value?.name||!0:!1}),g=K(()=>Object.entries(ie(i)).map(([r,m])=>{if(!m)return null;let f;r.includes("-")&&r!=="-"&&!r.includes("_")&&!r.match(ln)?.length&&console.trace(`[Shortcut] Invalid key: "${r}"`),r.includes("_")&&r!=="_"&&!r.match(rn)?.length&&console.trace(`[Shortcut] Invalid key: "${r}"`);const v=r.includes("-")&&r!=="-"&&!r.includes("_");if(v)o?f={key:r.split("-").map(L=>Te(L)).join("-"),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1}:f={key:r.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const E=r.toLowerCase().split("_").map(T=>T);let L=E.filter(T=>!["meta","command","ctrl","shift","alt","option"].includes(T)).join("_");o&&(L=Te(L)),f={key:L,metaKey:E.includes("meta")||E.includes("command"),ctrlKey:E.includes("ctrl"),shiftKey:E.includes("shift"),altKey:E.includes("alt")||E.includes("option")}}if(f.chained=v,!a.value&&f.metaKey&&!f.ctrlKey&&(f.metaKey=!1,f.ctrlKey=!0),typeof m=="function"?f.handler=m:typeof m=="object"&&(f={...f,handler:m.handler}),!f.handler)return console.trace("[Shortcut] Invalid value"),null;let b=!0;return m.usingInput?typeof m.usingInput=="string"&&(b=d.value===m.usingInput):b=!d.value,f.enabled=b,f}).filter(Boolean));return hi("keydown",h)}const mn={__name:"UContentSearch",props:Oe({size:{type:null,required:!1},icon:{type:null,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},shortcut:{type:String,required:!1,default:"meta_k"},links:{type:Array,required:!1},navigation:{type:Array,required:!1},groups:{type:Array,required:!1},files:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},overlay:{type:Boolean,required:!1},transition:{type:Boolean,required:!1},content:{type:Object,required:!1},dismissible:{type:Boolean,required:!1},fullscreen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(i,{expose:t}){const e=i,s=We(),n=At(i,"searchTerm",{type:String,default:""}),{t:a}=Ct(),{open:l,mapNavigationItems:o,postFilter:u}=pi(),h=mi(),d=Et(),g=et(Be(e,"size","icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),r=et(Be(e,"overlay","transition","content","dismissible","fullscreen","modal","portal")),m=()=>De(s,["content"]),f=K(()=>Ke({},e.fuse,{fuseOptions:{includeMatches:!0}})),v=K(()=>Ee({extend:Ee(an),...d.ui?.contentSearch||{}})({size:e.size,fullscreen:e.fullscreen})),b=St("commandPaletteRef"),E=K(()=>e.links?.length?e.links.flatMap(k=>[{...k,suffix:k.description,description:void 0,icon:k.icon||d.ui.icons.file,children:void 0},...k.children?.map(S=>({...S,prefix:k.label+" >",suffix:S.description,description:void 0,icon:S.icon||k.icon||d.ui.icons.file}))||[]]):[]),L=K(()=>e.navigation?.length?e.navigation.some(k=>!!k.children?.length)?e.navigation.map(k=>({id:k.path,label:k.title,items:o(k.children||[],e.files||[]),postFilter:u})):[{id:"docs",items:o(e.navigation,e.files||[]),postFilter:u}]:[]),T=K(()=>!e.colorMode||h?.forced?null:{id:"theme",label:a("contentSearch.theme"),items:[{label:a("colorMode.system"),icon:d.ui.icons.system,active:h.preference==="system",onSelect:()=>{h.preference="system"}},{label:a("colorMode.light"),icon:d.ui.icons.light,active:h.preference==="light",onSelect:()=>{h.preference="light"}},{label:a("colorMode.dark"),icon:d.ui.icons.dark,active:h.preference==="dark",onSelect:()=>{h.preference="dark"}}]}),_=K(()=>{const k=[];return E.value.length&&k.push({id:"links",label:a("contentSearch.links"),items:E.value}),k.push(...L.value),k.push(...e.groups||[]),T.value&&k.push(T.value),k});function w(k){k.disabled||(l.value=!1,n.value="")}return on({[e.shortcut]:{usingInput:!0,handler:()=>l.value=!l.value}}),t({commandPaletteRef:b}),(k,S)=>(I(),D(yi,j({open:p(l),"onUpdate:open":S[2]||(S[2]=H=>vi(l)?l.value=H:null),title:i.title||p(a)("contentSearch.title"),description:i.description||p(a)("contentSearch.description")},p(r),{"data-slot":"modal",class:v.value.modal({class:[e.ui?.modal,e.class]})}),{content:O(H=>[V(k.$slots,"content",tt(it(H)),()=>[Y(nn,j({ref_key:"commandPaletteRef",ref:b,"search-term":n.value,"onUpdate:searchTerm":S[0]||(S[0]=R=>n.value=R)},p(g),{groups:_.value,fuse:f.value,ui:p(gi)(p(De)(v.value,["modal"]),e.ui),"onUpdate:modelValue":w,"onUpdate:open":S[1]||(S[1]=R=>l.value=R)}),It({_:2},[be(m(),(R,Q)=>({name:Q,fn:O(Z=>[V(k.$slots,Q,tt(it(Z)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},16,["open","title","description","class"]))}};export{mn as default};
